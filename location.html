<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Location | AutoMarket</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header class="navbar">
    <div class="logo">AutoMarket</div>
    <ul class="nav-links">
        <li><a href="index.html">Accueil</a></li>
        <li><a href="voiture.html">Voitures</a></li>
        <li><a href="vente.html">Vente</a></li>
        <li><a href="location.html" class="active">Location</a></li>
        <li><a href="contact.html">Contact</a></li>
    </ul>
</header>

<!-- Info-bar -->
<div class="info-bar">
    <span>üöó Livraison internationale</span>
    <span>‚≠ê V√©hicules certifi√©s</span>
    <span>üîí Paiement s√©curis√©</span>
</div>

<section class="reveal">
    <h2 class="section-title">Nos voitures √† louer</h2>
    <p class="text-center">
        S√©lectionnez votre voiture, vos dates, et obtenez le prix instantan√©.
    </p>

    <div class="cars-list">
        <!-- Exemple voiture 1 -->
        <div class="car-card">
            <span class="badge disponible">Disponible</span>
            <img src="images/car1.jpeg" alt="Mercedes Classe E">
            <h3>Mercedes Classe E</h3>
            <p>Prix par jour : 150 ‚Ç¨</p>
            <label>Date d√©but :</label>
            <input type="date" class="date-start">
            <label>Date fin :</label>
            <input type="date" class="date-end">
            <p class="prix-total">Total : 0 ‚Ç¨</p>
            <button class="btn btn-reserver">R√©server</button>
        </div>

        <!-- Exemple voiture 2 -->
        <div class="car-card">
            <span class="badge indisponible">Indisponible</span>
            <img src="images/car2.jpeg" alt="BMW S√©rie 7">
            <h3>BMW S√©rie 7</h3>
            <p>Prix par jour : 200 ‚Ç¨</p>
            <label>Date d√©but :</label>
            <input type="date" class="date-start">
            <label>Date fin :</label>
            <input type="date" class="date-end">
            <p class="prix-total">Total : 0 ‚Ç¨</p>
            <button class="btn btn-reserver" disabled>R√©server</button>
        </div>
    </div>
</section>

<footer>
    <div class="footer-socials">
        <a href="#">Facebook</a>
        <a href="#">Instagram</a>
        <a href="#">WhatsApp</a>
    </div>
    <div class="footer-links">
        <a href="index.html">Accueil</a>
        <a href="voiture.html">Voitures</a>
        <a href="vente.html">Vente</a>
        <a href="contact.html">Contact</a>
        <a href="location.html">Location</a>
    </div>
    <p>&copy; <span id="year"></span> AutoMarket. Tous droits r√©serv√©s.</p>
</footer>

<script>
    // Scroll reveal
    const reveals = document.querySelectorAll('.reveal');
    function revealOnScroll() {
        reveals.forEach(el => {
            const windowHeight = window.innerHeight;
            const elementTop = el.getBoundingClientRect().top;
            if (elementTop < windowHeight - 100) {
                el.classList.add('show');
            }
        });
    }
    window.addEventListener('scroll', revealOnScroll);
    revealOnScroll();

    // Ann√©e dynamique
    document.getElementById('year').textContent = new Date().getFullYear();

    // Calcul automatique du prix de location
    const cars = document.querySelectorAll('.car-card');
    cars.forEach(car => {
        const startInput = car.querySelector('.date-start');
        const endInput = car.querySelector('.date-end');
        const totalDisplay = car.querySelector('.prix-total');
        const pricePerDay = parseInt(car.querySelector('p').textContent.replace(/\D/g,''));

        function calculateTotal() {
            const start = new Date(startInput.value);
            const end = new Date(endInput.value);
            if (start && end && end > start) {
                const diffTime = end - start;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                totalDisplay.textContent = `Total : ${diffDays * pricePerDay} ‚Ç¨`;
            } else {
                totalDisplay.textContent = "Total : 0 ‚Ç¨";
            }
        }

        startInput.addEventListener('change', calculateTotal);
        endInput.addEventListener('change', calculateTotal);
    });
</script>

</body>
</html>